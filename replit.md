# Fundry - Equity Crowdfunding Platform

## Overview

Fundry is a full-stack equity crowdfunding platform built for Replit. It enables founders to create funding campaigns and allows investors to discover and invest in early-stage companies. The platform uses modern web technologies including React for the frontend, Express.js for the backend, PostgreSQL for data storage, and features Replit's authentication system.

## System Architecture

The application follows a modern full-stack architecture with clear separation between frontend and backend concerns:

- **Frontend**: React 18 with TypeScript, built using Vite for development and production
- **Backend**: Express.js server with TypeScript support
- **Database**: PostgreSQL with Drizzle ORM for type-safe database operations
- **Authentication**: Email/password authentication with Passport.js and PostgreSQL sessions
- **UI Framework**: Tailwind CSS with shadcn/ui component library
- **File Uploads**: Multer for handling campaign assets (logos, pitch decks)

## Key Components

### Frontend Architecture
- **React Router**: Using Wouter for client-side routing
- **State Management**: TanStack Query for server state management
- **UI Components**: Comprehensive shadcn/ui component system with Radix UI primitives
- **Form Handling**: React Hook Form with Zod validation
- **Styling**: Tailwind CSS with custom Fundry brand colors (orange/navy theme)

### Backend Architecture
- **Express.js**: RESTful API server with middleware for authentication and logging
- **Database Layer**: Drizzle ORM with Neon serverless PostgreSQL
- **Authentication**: Passport.js with OpenID Connect for Replit authentication
- **Session Management**: PostgreSQL-backed sessions with connect-pg-simple
- **File Storage**: Local file system storage for uploaded assets

### Database Schema
The database includes several key entities:
- **Users**: Stores user profiles with support for founders and investors
- **Business Profiles**: Extended information for founder accounts
- **Campaigns**: Funding campaigns with SAFE agreement terms
- **Investments**: Investment records with payment tracking
- **Sessions**: Authentication session storage

## Data Flow

1. **Authentication Flow**: Users authenticate via Replit OAuth, creating sessions stored in PostgreSQL
2. **Campaign Creation**: Founders can create campaigns with file uploads for logos and pitch decks
3. **Investment Process**: Investors browse campaigns and make investments through SAFE agreements
4. **Dashboard Views**: Role-based dashboards showing relevant metrics and data for founders vs investors

## External Dependencies

### Core Dependencies
- **@neondatabase/serverless**: Neon PostgreSQL driver for serverless environments
- **drizzle-orm**: Type-safe ORM for database operations
- **@tanstack/react-query**: Server state management and caching
- **@radix-ui/**: Comprehensive accessible UI primitives
- **passport**: Authentication middleware
- **multer**: File upload handling

### Development Tools
- **Vite**: Fast development server and build tool
- **TypeScript**: Type safety across the entire stack
- **Tailwind CSS**: Utility-first CSS framework
- **ESBuild**: Fast JavaScript bundling for production

## Deployment Strategy

The application is configured for deployment on Replit's autoscale infrastructure:

- **Development**: `npm run dev` runs the Express server with Vite middleware
- **Production Build**: `npm run build` creates optimized client bundle and server bundle
- **Production Runtime**: `npm run start` serves the built application
- **Database**: Managed PostgreSQL instance via environment variables
- **File Storage**: Local file system (uploads directory)

The deployment uses:
- Node.js 20 runtime
- PostgreSQL 16 for database
- Port 5000 for the application server
- Automatic SSL termination via Replit's proxy

## Changelog

- June 16, 2025. Initial setup
- June 16, 2025. Added comprehensive footer with About, Pricing pages and transparent fee structure (5% above $1,000, free below)
- June 16, 2025. Created extensive page ecosystem including Browse Campaigns, How It Works, Success Stories, Resources, Contact, Blog, Privacy Policy, Terms of Use, Cookie Policy, and Investment Disclaimer pages for professional platform presentation
- June 16, 2025. Fixed View button 404 errors by updating Browse Campaigns to use real API data instead of mock data, added sample campaigns to database (IDs 4, 5, 6), updated hero section "Learn More" button to navy blue text, and improved stats cards visibility with proper Fundry brand colors
- June 16, 2025. Complete authentication system overhaul: replaced Replit Auth with email/password authentication using Passport.js, created comprehensive onboarding modal with user type selection (founder/investor), implemented secure password hashing, PostgreSQL session storage, and role-based registration flow
- June 16, 2025. Enhanced campaign creation with exhaustive business sector options (36+ categories including AI/ML, Blockchain, CleanTech, Healthcare, FinTech, Manufacturing, etc.) for accurate startup categorization and improved investor filtering capabilities
- June 16, 2025. Major campaign view page enhancements: optimized logo display with proper scaling and white background, changed investment flow to "Commit to Invest" with payment later via dashboard, integrated real campaign data for Team and Traction sections, removed Company Photos section, added functional pitch deck modal viewer, improved navbar with Previous button and conditional Edit button for founders, enhanced error handling and user experience
- June 16, 2025. Connected Meet the Team and Business Model sections to live campaign data: enhanced team member display with LinkedIn profiles, added Market Opportunity and Competitive Landscape sections, removed all fallback content in favor of authentic founder-provided data
- June 16, 2025. Fixed production 404 errors for dashboard routes by adding catch-all handler for client-side routing and simplifying route structure to ensure all pages are accessible regardless of authentication state
- June 16, 2025. Enhanced Success Stories with custom SVG company logos, optimized startup logo display across campaign components, and implemented comprehensive case study pages with detailed timelines, results tracking, and social media sharing functionality for Twitter, LinkedIn, and Facebook
- June 16, 2025. Fixed Edit and Share buttons in Active Campaigns section by connecting them to functional modals, resolved $NaN display issue in raised amounts, enhanced team information display to show live campaign data with structured member profiles or text descriptions, and added downloadable SAFE agreement functionality in investment modal with prepopulated terms including investment amount, discount rate, and valuation cap
- June 16, 2025. Implemented team member photo capture functionality in Create New Campaign modal with file upload, preview, and removal capabilities; updated Success Stories page to comply with $5,000 funding limit across all case studies (TechFlow: $4,800, GreenEnergy: $5,000, HealthBridge: $3,200, EduPlatform: $1,800) maintaining platform consistency
- June 16, 2025. Integrated official Fundry logo across all platform pages with clickable navigation to home page: created reusable FundryLogo component using actual brand image, updated navbar, footer, and landing page for consistent branding throughout the application
- June 16, 2025. Enhanced Fundry logo implementation: increased logo size by 100% (h-10 to h-20) for better visibility and prominence, configured logo to always redirect to platform landing page (/landing route) regardless of user authentication status
- June 16, 2025. Enhanced investment flow with comprehensive authentication and investor details capture: added authentication step before SAFE Agreement Review requiring sign-in or account creation, implemented investor information collection with full contact details and investment experience, integrated role-based authentication supporting both founders and investors with automatic dashboard redirection, updated modal to use correct Fundry logo branding throughout authentication process
- June 16, 2025. Enhanced investor dashboard with functional Quick Actions, live data integration, and comprehensive tab navigation: created functional Discover, Documents, and Profile tab pages with relevant data connections, made Quick Actions buttons navigate to Browse Campaigns page and switch between dashboard tabs, connected stat cards to live data with clickable navigation, implemented complete investor dashboard experience with working functionality
- June 16, 2025. Updated pricing page structure and functionality: removed Enterprise pricing tier to focus on Free and Standard options, restructured layout for two-column grid design, made all "Start Campaign" buttons functional with onboarding modal integration, removed Enterprise CTA section while maintaining clear value proposition
- June 17, 2025. Fixed application startup issues by resolving port conflicts and restarting workflows, connected browse campaigns page to live data with proper category filtering based on businessSector field, removed excess zeros from Total Investors display and funding goal formatting, fixed blank section in pricing page by removing unnecessary whitespace
- June 17, 2025. Comprehensive legal documentation update: replaced Privacy Policy and Terms of Use with detailed, professional legal content including comprehensive risk disclosures, data collection and usage policies, investor disclaimers, platform role clarifications, and proper legal frameworks with numbered sections and emoji organization for improved readability
- June 17, 2025. Connected Recent Investors section to live database data: replaced mock data with actual investment records, filtered to only show committed/paid investments (not pending), implemented functional "View All Investors" modal with complete investor list, added proper empty states, and enhanced storage method to include investor names with firstName/lastName fields
- June 17, 2025. Completed comprehensive legal documentation suite: created Cookie Policy, Investment Disclaimer, SAFE Agreement Template, and Investor Accreditation pages with professional content, proper routing, and footer navigation integration; all legal pages now stable and persistent with detailed risk disclosures, regulatory information, and professional legal frameworks
- June 17, 2025. Implemented complete 7-step investment flow with proper authentication and data capture: created comprehensive investment process (Amount → Auth → SAFE Review → Terms → Signature → Payment → Confirmation) with progress indicators, investor authentication modal for step 2, real user data integration into SAFE Agreement preview, downloadable SAFE Agreement with populated investor information, and $25 minimum investment threshold
- June 17, 2025. Fixed logout functionality to properly redirect users to landing page after session termination instead of returning JSON response
- June 17, 2025. Resolved 404 error after logout by restructuring route configuration: made public routes always accessible, conditionally rendered authenticated routes, and improved fallback routing to show landing page for unauthenticated users instead of 404 errors
- June 17, 2025. Fixed text visibility issue in Learn More modal pricing section by enhancing background contrast and ensuring all text is properly visible with dark card backgrounds and white text throughout the pricing structure and examples table
- June 17, 2025. Implemented structured team member system in Edit Campaign modal: replaced textarea with individual team member cards supporting name, role, experience, LinkedIn profile, and photo uploads; fixed MulterError by updating server multer configuration to handle dynamic team member photo fields; updated Meet the Team section to display live team data with uploaded photos and LinkedIn integration
- June 17, 2025. Completed comprehensive percentage-based Use of Funds system: implemented structured fund allocation breakdown in both Create and Edit Campaign modals with category, percentage, and description fields; added real-time percentage tracking and validation; updated database schema and server routes to handle JSON fund allocation data; replaced text-based Use of Funds display with visual percentage breakdown showing categories, amounts, and progress bars in campaign view
- June 17, 2025. Enhanced team member photo visibility and persistence: improved photo preview in Edit Campaign modal with current photo display, added photo error handling with fallback initials in campaign view, implemented debug logging for photo URL tracking, and ensured photos remain stable and persistent across all interfaces
- June 17, 2025. Implemented comprehensive 2MB file size enforcement: added client-side validation with toast notifications for team member photos and company logos in both Create and Edit Campaign modals, enforced server-side file size limits for additional security, included user-friendly "Max size: 2MB" hints on all upload interfaces, and provided clear error handling when files exceed limits
- June 17, 2025. Created comprehensive founder dashboard ecosystem: built dedicated pages for Investors, Analytics, Settings, and Updates with full navigation integration; implemented investor management with stats overview and filtering capabilities; added analytics dashboard with charts and growth metrics; created settings page with personal, business, notification, and security tabs; built campaign updates system for founder-investor communication
- June 17, 2025. Implemented functional Compose Message modal in Investor Communications section: added comprehensive message composer with type selection (General Update, Milestone, Financial, Announcement, Newsletter), recipient filtering (All Investors, Active Only, Committed Only, Selected), live message preview, backend API endpoint for message sending with validation, and proper loading states with success/error notifications; fixed SelectItem empty value error in founder updates page by replacing empty string with "all" value; enhanced modal with scrollable layout using flex column design with 90% viewport height constraint, fixed header/footer positioning, and proper recipient validation with error handling for empty recipient lists; added complete file attachment system supporting images, videos, PDFs, and documents with 10MB file size limits, visual file previews, drag-and-drop interface, file type validation, and server-side multer processing for secure file handling; created navigation header for investors page with back button to founder dashboard, centered Fundry logo linking to landing page, and logout button for proper session management
- June 17, 2025. Implemented comprehensive worldwide location system: replaced single location field with separate country and state dropdowns featuring complete global coverage including 195+ countries with detailed state/province/region data for major countries (US, Canada, Australia, Brazil, India, UK, Germany, France, Italy, Spain, Mexico, Japan, China, South Africa, Nigeria, Argentina, Russia); added extensive countries-states data file with proper state handling for federal countries and clean implementation for smaller nations; updated database schema with new phone, country, state, and bio fields; created intelligent state dropdown that populates based on selected country with proper validation and user-friendly placeholders
- June 17, 2025. Created comprehensive Payment Withdrawal page with KYC verification and SAFE agreement management: implemented complete withdrawal system with account balance tracking, bank account setup, and transaction history; added KYC verification process with document upload, identity verification, and status tracking; created SAFE agreement template viewer with detailed terms and investor rights; connected all functionality to live backend data including founder earnings calculations, investment transaction history, and profile-based KYC status determination; added backend API endpoints for withdrawal requests, KYC submissions, and transaction tracking with proper authentication and validation
- June 17, 2025. Enhanced KYC verification system with comprehensive form validation and security requirements: fixed KYC form submission by switching from FormData to JSON format for better server processing; separated document upload fields into Government Issued ID, Utility Bill, and Other Documents with individual file size limits; implemented KYC verification requirement for withdrawal requests with proper user notifications; enhanced withdrawal button behavior to check KYC status on click and display appropriate messages; made withdrawal modal scrollable for better user experience with max-height constraints
- June 17, 2025. Completed real-time KYC status tracking system: implemented in-memory KYC submission storage for immediate status updates, fixed file upload serialization issues by converting File objects to descriptive strings, added automatic cache invalidation after successful KYC submission, and ensured withdrawal functionality properly validates KYC verification status before allowing fund withdrawals
- June 17, 2025. Enhanced KYC verification display with complete submitted information: integrated actual submitted data display on verification page showing all KYC form fields (date of birth, address, employment status, income level, investment experience, risk tolerance), implemented document upload confirmation with file counts, ensured "Under Review" status displays properly after submission, maintained data security by masking sensitive information like SSN, and provided complete transparency of submitted information for user verification tracking
- June 17, 2025. Fixed logout functionality to properly redirect users to landing page: replaced complex OIDC logout flow with simple session clearing and direct redirect to "/" route, ensuring users see the landing page after logout instead of encountering 404 errors; added React Query cache clearing before logout to prevent stale authentication state, updated routing structure to properly handle unauthenticated redirects, and ensured all logout buttons across the platform (navbar, founder updates) work consistently
- June 17, 2025. Enhanced sign-in modal with role-based authentication and routing: implemented two-step sign-in process with role selection (Founder/Investor) followed by credentials entry, added visual role selection cards with appropriate icons, implemented role-based dashboard routing that directs users to founder-dashboard or investor-dashboard based on selected role, included back navigation between steps and role indicator during sign-in form
- June 17, 2025. Removed logout buttons from founder dashboard sub-pages: deleted logout functionality from Payment Withdrawal, Investors, Analytics, Updates, and Settings pages to streamline navigation and maintain consistent header layout with only back button and Fundry logo
- June 17, 2025. Connected Discover Investment Opportunities to live data and removed dummy campaigns: ensured all campaign discovery pages use authentic data from /api/campaigns endpoint, deleted 3 mock campaigns from database (IDs 4-6 with demo founder accounts), maintaining only genuine campaigns created by real users for authentic investment opportunities
- June 17, 2025. Implemented comprehensive notifications system: created notifications database table with proper schema, built functional notification dropdown with unread count badges, integrated mark as read and mark all as read functionality, added real-time notification fetching with proper authentication, connected notification system to navbar across all dashboard pages, implemented notification type categorization (investment, update, security, general), added proper loading states and empty state handling
- June 17, 2025. Implemented functional Reply, Like, and Share buttons for Founders Updates page: added interactive Reply button that opens text area for composing responses, implemented Like button with heart icon that fills when liked and shows dynamic count, created Share button with native sharing API support and clipboard fallback, added proper state management for liked updates and reply interactions, included engagement stats display (views, replies) for each update, added visual feedback with color changes and hover effects, implemented toast notifications for all user actions
- June 17, 2025. Simplified investor dashboard navigation: removed Portfolio, Discover, Documents, and Profile menu items from top navigation, streamlined interface to show only Portfolio and Updates tabs for cleaner, more focused user experience
- June 17, 2025. Implemented comprehensive 2FA system with authenticator app and email support: created database schema with OTP codes table, built TwoFactorService with TOTP generation and QR codes, added complete API endpoints for 2FA setup and verification, integrated setup modal with both authentication methods, connected functionality to founder settings page with backup codes management
- June 17, 2025. Enhanced investor dashboard Profile page with functional Export and Deactivate buttons: implemented data export API that downloads comprehensive JSON file with user profile, investments, campaigns, and notifications; created secure account deactivation with confirmation modal requiring "DEACTIVATE" typing and reason selection; added proper authentication, validation, and safety measures for both features
- June 17, 2025. Removed Recent Investors section from campaign view page: eliminated investor listings, "View All Investors" functionality, and related helper functions for cleaner, more focused investment experience
- June 17, 2025. Fixed currency formatting issues throughout application: updated formatCurrency functions in campaign cards, campaign view, and share modals to properly display decimal places with consistent Intl.NumberFormat implementation showing amounts like $5,000 instead of $50000; replaced simple 2FA enable toggle with comprehensive setup modal requiring proper authenticator app or email verification before enabling two-factor authentication
- June 17, 2025. Connected founder dashboard stats to live analytics data: updated getFounderStats calculation to include 'committed', 'paid', and 'completed' investment statuses for accurate total raised amounts, enhanced stats cards with proper currency formatting using Intl.NumberFormat, implemented dynamic trend indicators based on actual data, fixed API endpoint queries to properly fetch founder campaigns and analytics with correct URL construction
- June 17, 2025. Connected founder investors page stats to live investment data: updated investment filtering to include committed, paid, and completed statuses, enhanced API endpoint to properly fetch founder campaign investments with investor details, implemented real-time calculation of total investors, total invested amounts, active investors, and average investment metrics using authentic database data
- June 17, 2025. Implemented investment flow continuation after authentication: added localStorage-based investment context persistence so users who authenticate during investment process continue their investment instead of being redirected to dashboard, enhanced both signup and signin flows in onboarding modal to check for active investment context and prevent unnecessary redirects, created comprehensive SAFE agreement generation with 6 detailed articles including definitions, conversion events, company/investor representations, and proper legal disclaimers
- June 17, 2025. Enhanced password security with visibility toggles and connected investor Updates to live data: added Eye/EyeOff icons to all password fields in sign-in and sign-up forms with proper state management and hover effects; implemented live data connection for investor Updates tab showing only real updates from founders the logged-in investor has invested in, created backend API endpoint `/api/campaign-updates/investor/:investorId` to fetch updates from invested campaigns, replaced mock data with authentic campaign updates including proper date formatting, update type categorization, and empty state handling for investors with no investments
- June 17, 2025. Connected investor dashboard top navigation to Quick Actions functionality: linked Discover menu item to browse campaigns navigation, connected Documents tab to investment documents with SAFE agreement downloads, integrated Profile navigation with account management settings, restructured tab system with proper handlers for seamless navigation between dashboard sections
- June 17, 2025. Restored Portfolio and Updates pages to investor dashboard: created comprehensive 5-tab navigation system (Portfolio, Discover, Updates, Documents, Profile), restored Portfolio as default landing page with investment overview and Quick Actions, maintained Updates tab with live founder communication data, ensured seamless navigation between all dashboard sections
- June 17, 2025. Fixed Documents page to display live SAFE agreement data: enhanced Documents tab with professional investment document cards showing real investment data, implemented filtering for committed/paid/completed investments, added Download and View functionality for SAFE agreements, created document summary statistics with total agreements and invested amounts, replaced empty state with authentic signed investment documents
- June 17, 2025. Removed top navigation menu items from investor dashboard: deleted Portfolio, Discover, Documents, and Profile navigation links from navbar header while preserving tab functionality within dashboard content area, maintaining clean header with only Fundry logo and user actions
- June 18, 2025. Implemented comprehensive email confirmation system: integrated Resend API for professional email delivery, created email verification tokens database table with 24-hour expiration, updated registration process to require email verification before account activation, added 3-step onboarding modal with email verification screen including resend functionality, enhanced login authentication to block unverified users, created branded HTML email templates for verification and welcome messages with proper styling and professional content, implemented complete backend API endpoints for sending, verifying, and resending verification emails with secure token management; configured email service to use verified microfundry.com domain (support@microfundry.com) with "Micro Fundry Support" branding for all onboarding verification and welcome messages ensuring professional delivery from company domain; verified email verification flow working correctly with proper token validation and user account activation
- June 18, 2025. Enhanced investor-founder connection validation system: strengthened API endpoint security to ensure investors only receive updates from campaigns they have confirmed investments in (committed, paid, completed statuses), added strict authorization checks preventing cross-investor data access, implemented campaign ownership verification for founders creating updates, added audit trail logging for investor update access and founder update creation, enhanced investment status filtering to exclude pending investments from update distribution, added metadata tracking for update reach and investor targeting
- June 18, 2025. Enhanced logo visibility with larger sizing across all platform components: increased FundryLogo component default size from h-40 to h-64, enlarged founder dashboard page logos from h-24 to h-48, updated payment withdrawal page logo from h-16 to h-32 for prominent, professional branding throughout the application
- June 18, 2025. Optimized founder dashboard logo sizing: reduced logo sizes by 3X across all founder admin dashboard pages (Updates, Investors, Settings, Analytics: h-96 to h-32; Payment Withdrawal: h-64 to h-21) for better visual balance and improved page layout proportions
- June 18, 2025. Further optimized Payment Withdrawal page logo: reduced logo size by additional 5X (h-21 to h-4) for minimal, clean header design that maintains brand visibility without overwhelming the interface
- June 18, 2025. Adjusted Payment Withdrawal page logo size: increased logo by 3X (h-4 to h-12) for improved visibility and better brand presence while maintaining clean header design
- June 18, 2025. Fine-tuned Payment Withdrawal page logo: increased logo by 1.5X (h-12 to h-18) for optimal brand visibility and professional header appearance
- June 18, 2025. Optimized Payment Withdrawal page logo sizing: reduced logo by 3X (h-18 to h-6) for clean, compact header design with subtle brand presence
- June 18, 2025. Enhanced Payment Withdrawal page logo: increased logo by 2X (h-6 to h-12) for improved brand visibility and balanced header proportions
- June 18, 2025. Modernized KYC verification modal with comprehensive design overhaul: removed SSN field requirement for enhanced privacy, implemented modern sectioned layout with numbered progress indicators (Personal Information, Address Information, Professional & Financial Information, Document Upload), enhanced styling with Fundry brand colors (orange and navy), improved form structure with organized grid layouts, modernized file upload areas with dashed borders and hover effects, updated button styling with enhanced visual hierarchy, added gradient background and professional header with shield icon for trust indicators
- June 18, 2025. Applied modern modal styling platform-wide: updated all Dialog and AlertDialog components with gradient backgrounds (from-white via-orange-50/70 to-blue-50/50), enhanced shadows and border radius, improved close button styling with hover effects, modernized DialogTitle and DialogDescription components with Fundry brand colors and improved typography, updated onboarding modal with professional header design featuring orange circular icon background, ensured consistent modern design patterns across all modals including KYC, investment, onboarding, and alert dialogs
- June 18, 2025. Implemented comprehensive verification email system for existing users: created automated script to send verification emails to 22 existing users created before email verification system, resolved login authentication issues for legacy accounts, used professional Micro Fundry branding (support@microfundry.com), implemented secure token generation with 24-hour expiration, provided clear verification instructions and security explanations, enabled all existing users to verify emails and access their accounts normally
- June 18, 2025. Enhanced email branding with modern design system: completely redesigned verification and welcome email templates with professional Fundry branding featuring gradient headers (orange to navy), circular logo containers with "F" branding, modern typography using system fonts, enhanced button styling with gradients and hover effects, improved mobile responsiveness with viewport meta tags, added security explanations and feature highlights, implemented consistent color scheme with orange (#f97316) and navy (#1e40af) brand colors throughout email templates
- June 18, 2025. Fixed email dashboard link routing issue: updated welcome email "Go to Dashboard" button to redirect to /landing page instead of protected dashboard routes that require authentication, changed button text to "Sign In to Get Started" for clearer user expectations, resolved 404 errors when users click email links while unauthenticated
- June 18, 2025. Completely modernized View Campaign page with comprehensive Fundry branding: transformed campaign header with gradient background featuring orange-to-navy color scheme and enhanced company logo display, redesigned investment details section with colorful gradient cards and visual hierarchy, modernized all content sections (About Campaign, Investment Details, Traction & Growth, Team Information, Pitch Deck) with gradient accent bars and professional styling, enhanced investment sidebar with navy header gradient and improved visual layout, implemented modern shadow effects, border radius, and hover animations throughout for premium user experience aligned with Fundry brand identity
- June 18, 2025. Refined View Campaign page color scheme per user specifications: updated campaign header to solid dark orange background (orange-700), changed pitch deck section to dark navy blue background with white text, modified investment sidebar to solid orange header, updated all buttons to use solid colors - orange for Share and View Pitch Deck buttons with white text, dark navy blue for Commit to Invest button, creating consistent brand identity throughout the campaign viewing experience
- June 18, 2025. Fixed email verification access denied errors: updated email service URL construction to use proper Replit domain format (https://${REPL_ID}.replit.app) instead of localhost, resolved browser access issues when clicking verification links from emails, sent fresh verification emails with corrected URLs for existing users, verified complete email verification flow functionality
- June 18, 2025. Reverted payment system from Stripe Checkout to direct investment commitment: removed external Stripe redirect flow that was causing loading issues, updated investment modal to create committed investment records directly, simplified "Pay Now" functionality to commit pending investments without external payment processing, eliminated problematic Stripe page redirects for smoother user experience
- June 18, 2025. Removed platform fees for investors throughout the system: eliminated fee calculations from investment modal and investor dashboard, simplified investment amount display without fee breakdowns, removed platform fee fields from edit investment modal, updated backend API endpoints to remove fee calculations from investment updates, ensuring investors pay only their investment amount without additional platform charges
- June 18, 2025. Implemented investment commitment deletion functionality: added delete button to pending investment cards in investor dashboard with confirmation dialog, created DELETE /api/investments/:id endpoint for secure investment removal, integrated delete mutation with proper error handling and success notifications, restricted deletion to pending investments only for data integrity, added AlertDialog component with professional styling matching Fundry brand
- June 18, 2025. Fixed investment aggregation and Documents page filtering: updated getInvestorStats to include all investment statuses (pending, committed, paid, completed) in total invested calculation, enhanced cache invalidation for delete/edit mutations to immediately update UI, ensured Documents page only displays SAFE agreements for investments with committed/paid/completed status excluding pending investments, verified proper filtering functionality through console debugging
- June 18, 2025. Implemented comprehensive dual payment processing system: added USD (Stripe) and Naira (Budpay) payment buttons in both investment and payment modals, integrated real-time currency conversion from USD to NGN using external exchange rate APIs, created Budpay backend API endpoint for Naira payment processing, enhanced payment summaries to display both USD amounts and equivalent Naira values with proper formatting, completed full dual-currency payment flow with loading states and error handling
- June 18, 2025. Integrated authentic Budpay.com API with payment verification: implemented real Budpay public and secret key authentication, added backend payment verification using Budpay's transaction verification API, enhanced frontend to use actual user email addresses for payment processing, created robust error handling for payment verification failures, completed production-ready Naira payment processing with proper security measures
- June 18, 2025. Fixed payment modal button separation and Stripe checkout errors: resolved "Missing required fields" error by updating Stripe payment intent endpoint to use existing investment records and Stripe Checkout sessions, separated USD and NGN button functionality with independent processing states (isProcessing vs isProcessingNaira), corrected payment modal to redirect to proper Stripe checkout URLs instead of invalid payment intent redirects, enhanced payment flow to show investment summary first followed by two distinct payment option buttons without card information collection in modals
- June 18, 2025. Implemented inline Stripe Elements payment system: reverted from external checkout redirect to inline card input form within payment modal, added conditional UI that shows Stripe payment form with cardholder name and card details inputs when USD payment is selected, maintained separated button functionality with proper client secret handling, enhanced user experience with back button and inline payment processing without leaving the application
- June 18, 2025. Fixed Stripe payment processing endless loop and cardholder name field issues: corrected payment confirmation logic to properly handle payment completion states, added proper finally block to reset processing state, removed redundant clientSecret parameter from confirmPayment, enhanced cardholder name input with autoComplete attribute, implemented backend status update after successful payment, improved error handling and logging for payment debugging
- June 18, 2025. Fixed Stripe payment integration in investment modal: replaced stripe.confirmPayment() with stripe.confirmCardPayment() for proper CardElement compatibility, added createInvestmentMutation definition for investment creation, updated investment status to "paid" after successful Stripe payment confirmation, changed confirmation message from "committed" to "invested" for accurate payment status, resolved TypeScript compilation errors and duplicate variable declarations
- June 18, 2025. Separated USD and NGN payment processing to prevent simultaneous execution: added individual state variables (isProcessingPayment for USD, isProcessingNaira for NGN), updated all payment handlers to use separate processing states, enhanced button disabled states to prevent cross-payment interference, fixed BudPayCheckout type checking with proper window object validation, ensured only one payment method processes at a time for proper user experience
- June 19, 2025. Restored previous payment modal design: rolled back changes that removed USD and NGN payment buttons, returned to dual-currency payment interface with both "Pay $X (USD)" and "Pay ₦X (NGN)" buttons in payment modal, maintained original payment flow functionality with separated processing states
- June 19, 2025. Fixed Stripe payment system error: restructured payment modal with proper conditional rendering to show payment method selection first, then Stripe form after USD selection, eliminated "Payment system is not ready" error by ensuring proper Stripe Elements initialization, removed duplicate payment buttons that were causing initialization conflicts, implemented clear two-step payment flow for better user experience
- June 19, 2025. Enhanced Stripe payment error handling: implemented proper modal reset on payment failures (card declined, insufficient funds, fraudulent), added automatic return to payment method selection after Stripe errors, cleared form state (showStripeForm, cardholderName, clientSecret) on failures, enabled users to switch to alternative payment methods (NGN/Budpay) after card payment issues, improved error messages to guide users toward different payment options
- June 19, 2025. Implemented comprehensive app stability fixes: added process error handlers for uncaught exceptions and unhandled rejections to prevent crashes, enhanced database connection pooling with improved error handling and connection monitoring, wrapped critical database operations with safeDbOperation utility for graceful error recovery, implemented comprehensive route error handling with safeHandler wrapper, improved server error management to ensure responses are sent without re-throwing errors, strengthened database resilience with proper connection management and fallback mechanisms
- June 19, 2025. Fixed payment modal processing state reset: resolved issue where modal remained stuck in "Processing..." state after Stripe payment failures, implemented immediate state reset on all error scenarios (card declined, insufficient funds, fraudulent), ensured modal returns to payment method selection after failures allowing users to switch between USD and NGN payment options, improved error recovery with complete form state clearing and consistent reset pattern across all payment error types
- June 19, 2025. Implemented complete payment method separation: fixed critical issue where both USD and NGN payment methods were being selected simultaneously when Stripe was clicked, added mutual exclusion logic preventing simultaneous processing between payment methods, enhanced button disabled states to show visual feedback when opposite payment method is processing, corrected NGN payment error handling to use proper state variables (setIsProcessingNaira instead of setIsProcessing), ensured complete isolation between Stripe and Budpay payment flows to prevent endless processing loops
- June 19, 2025. Fixed payment modal endless processing problem: created comprehensive resetModalToPaymentSelection() function that clears all processing states (isProcessing, isProcessingNaira, showStripeForm, cardholderName, clientSecret), updated all error handlers to use reset function instead of manual state clearing, ensured modal always returns to payment method selection on any Stripe error (card declined, insufficient funds, fraudulent, incomplete payments), enhanced Back button and modal close functionality with proper state reset, eliminated stuck "Processing..." state that prevented users from switching between payment methods
- June 19, 2025. Completely eliminated USD button endless spinner: removed all isProcessing state management from handleUSDPayment function, eliminated spinner animation from USD payment button, implemented immediate Stripe form display on button click without processing delays, maintained button disable logic only for Naira payment conflicts, resolved user frustration with stuck processing loops by making USD payment selection instantaneous
- June 19, 2025. Fixed USD button stuck spinner by making handleUSDPayment synchronous: converted async function to synchronous execution, immediately shows Stripe form on click, fetches payment intent in background using promise chains, eliminated all loading states from USD button to prevent endless processing loops, ensured instant user feedback and smooth payment flow transition
- June 19, 2025. Enhanced Share Campaign modal with compelling investment appeal messages: implemented dynamic message generation using campaign data (startup name, mission statement, campaign link, minimum investment amount), created professional template with rocket emoji, funding goal context, and call-to-action, added dedicated Investment Appeal section with copy functionality, updated social media sharing to use investment appeal message instead of basic campaign info, enhanced modal design with Fundry gradient branding and improved user experience
- June 19, 2025. Implemented comprehensive mobile responsiveness across campaign view and investment flow: added "Commit to Investment" button under funding progress bar with proper mobile styling and minimum investment display, optimized campaign view page with responsive grid layouts and mobile-friendly text sizing for all sections, enhanced 7-step investment modal with mobile-responsive dialog sizing (95vw width) and touch-friendly button layouts, improved payment modal with responsive button sizing, icon scaling, and mobile-optimized Stripe form elements for seamless mobile investment experience
- June 19, 2025. Reorganized campaign view page layout structure: restored investment summary section with funding progress, investor stats, and "Commit to Investment" button below View Pitch Deck section, added SAFE Agreement Terms display showing discount rate and valuation cap, removed duplicate investment sidebar that was causing layout confusion, streamlined page structure for cleaner user experience with proper content hierarchy
- June 19, 2025. Replaced Portfolio Value tab with separate Pending Commitments and Actual Paid Investments tracking: updated investor dashboard stats cards to show four metrics (Total Invested, Active Investments, Pending Commitments, Actual Paid Investments), created dedicated sections for pending investments awaiting payment and completed paid investments, implemented smooth scrolling navigation between sections, enhanced investment status separation for clearer portfolio management and better tracking of investment pipeline stages
- June 19, 2025. Fixed investment categorization logic to use payment status instead of investment status: corrected filtering to check paymentStatus field ('pending'/'processing' for commitments, 'completed' for paid investments) instead of status field, ensuring investments with committed status but pending payment appear in Pending Commitments section rather than Actual Paid Investments, providing accurate separation of investment pipeline stages
- June 19, 2025. Updated Investment Documents page to show only actual paid investments with live data: changed document filtering to use paymentStatus === 'completed' instead of status fields, updated document summary statistics to reflect only completed payments, ensuring accurate display of downloadable SAFE agreements based on actual payment completion rather than commitment status
- June 19, 2025. Connected Payment Methods and Notification Preferences to live data: replaced mock data with real API calls to fetch payment methods and notification preferences from backend, implemented complete CRUD operations for payment method management (add, edit, remove), integrated notification preferences updates with real-time toggle functionality, added proper loading states and error handling, eliminated all dummy data in favor of authentic database-backed information
- June 19, 2025. Fixed React component errors and runtime issues: resolved StatsCard component invalid element type error by updating interface to use ReactElement, fixed campaign filtering TypeError by adding null/undefined checks to prevent toLowerCase() calls on undefined properties, improved error handling in investor dashboard filtering logic
- June 19, 2025. Implemented comprehensive investor dashboard redesign with modern Fundry branding: transformed entire interface with orange and navy gradient color scheme, redesigned header with profile avatar and gradient backgrounds, modernized stats cards with colored gradients and hover effects, implemented modern tab navigation with gradient active states and responsive design, enhanced investment sections with color-coded headers (amber for pending commitments, emerald for paid investments), modernized Quick Actions sidebar with gradient styling and Portfolio Summary card, redesigned Discover tab with enhanced search and filtering interface, updated Updates tab with professional update cards and engagement features, improved mobile responsiveness throughout with responsive grid layouts and touch-friendly elements, added comprehensive empty states with call-to-action buttons directing users to relevant sections
- June 19, 2025. Fixed critical email verification system: updated email service to use proper Replit domain (REPLIT_DOMAINS) instead of localhost URLs, corrected verification URLs in both verification and welcome emails, sent corrected verification emails to 21 existing users with proper domain URLs, resolved login authentication issues for users who couldn't verify their accounts due to localhost URL errors
- June 19, 2025. Connected Investor Insights to live data: created comprehensive API endpoint for real investor metrics, implemented calculation methods for average investment size (from actual investment amounts), investor retention rate (percentage investing in multiple campaigns), and average decision time (days between campaign launch and investment), replaced placeholder values with authentic database calculations, added proper loading states and error handling for investor analytics section
- June 19, 2025. Verified KYC status live data connection: confirmed KYC verification system already fully integrated with live data from /api/kyc-status endpoint, displaying dynamic status updates (Not Started, Under Review, Verified, Rejected) based on actual user submissions, with real-time cache invalidation and complete submitted information display when available
- June 19, 2025. Completely resolved KYC database persistence issues: fixed critical JSONB array handling problems by converting incorrectly created ARRAY columns to proper JSONB type, eliminated malformed array literal errors that prevented KYC submissions, verified complete data persistence with successful database storage of user verification information including personal details, employment status, and document upload arrays
- June 19, 2025. Enhanced campaign creation with comprehensive business strategy framework: added six detailed business strategy fields (Problem Statement, Solution, Market Opportunity, Business Model, Go-To-Market Strategy, Competitive Landscape) to both Create and Edit Campaign modals, updated database schema with new text columns for strategic information, integrated business strategy sections into campaign view page with color-coded gradient cards for improved investor experience, provided detailed placeholder guidance for founders to articulate comprehensive business plans
- June 19, 2025. Improved Business Information section user experience: made country and state/province dropdown lists scrollable with max-h-60 overflow-y-auto classes for better navigation through extensive location options, enhanced form usability especially for countries with many states/provinces
- June 19, 2025. Expanded global country coverage to all 195+ countries worldwide: added comprehensive countries list including all world nations with their corresponding states/provinces where applicable (US: 50 states, Canada: 13 provinces, Australia: 8 states, Germany: 16 states, India: 28 states, China: 32 provinces, Brazil: 27 states, Japan: 47 prefectures, Indonesia: 34 provinces, and many more), included appropriate business registration types for each country's legal framework, providing complete global coverage for international startup registration
- June 19, 2025. Fixed State/Province field for countries without subdivisions: implemented conditional display logic so State/Province field only appears for countries that have states/provinces, made state field optional in form validation schema, added helpful messages for countries without subdivisions, updated both Create and Edit Campaign modals with consistent conditional State/Province behavior, ensuring clean user experience for all 195+ countries
- June 19, 2025. Completed pitch media upload system: added separate "1 Minute Pitch Video/Startup AD or Cover Image" field to both Create and Edit Campaign modals with 10MB file size limits, implemented proper file validation for video and image formats, updated backend routes to handle pitchMedia uploads, added pitch_media_url column to campaigns table, integrated pitch media display in campaign view page with automatic video/image detection and responsive layout, enhanced campaign creation with comprehensive media upload capabilities supporting MP4, MOV, PNG, JPG formats
- June 19, 2025. Increased maximum raise amount and fixed campaign creation errors: updated funding goal maximum limit from $5,000 to $100,000 across Create and Edit Campaign modals and schema validation, resolved critical directors field parsing error by adding proper JSON parsing for directors array in backend routes, ensuring smooth campaign creation process with higher funding capabilities for growing startups
- June 19, 2025. Fixed critical session deserialization authentication errors: resolved "Failed to deserialize user out of session" errors by enhancing passport deserializeUser function with proper error handling and fallback logic, improved /api/user endpoint with database verification and session cleanup on failures, added session cleanup endpoint for corrupted session recovery, enhanced frontend authentication hook with automatic session clearing on persistent errors, implemented process-level error handlers to prevent server crashes from database connection issues, ensuring stable authentication system with graceful error recovery
- June 19, 2025. Completely resolved campaign creation system: fixed critical founder_id constraint violation by adding founderId back after schema validation (schema omits founderId for security but database requires it), implemented comprehensive error handling with try-catch blocks around all JSON.parse operations, added specific detection and handling for "[object Object]" string conversion issues in form data, updated schema validation to make directors field optional rather than required, wrapped teamMembers, useOfFunds, and directors field processing in individual error handlers with fallback values, eliminated all campaign creation errors including JSON parsing and database constraint violations, ensuring robust campaign management functionality with complete error recovery
- June 19, 2025. Redesigned campaign view page with Wefunder-style layout: implemented single-column design with pitch video/cover image prominently displayed first in hero section, added logo overlay on media for optimal branding visibility, enhanced campaign information display below media with comprehensive funding stats, progress tracking, and prominent investment CTA button, removed sidebar in favor of streamlined content flow, optimized logo sizing and placement throughout for professional presentation matching modern fundraising platforms
- June 19, 2025. Fixed logo visibility issues and enhanced campaign description styling: resolved logo loading problems by correcting URL paths (adding leading slash), enhanced "About This Campaign" section with modern design featuring gradient headers, structured content sections with icons and color-coded cards, improved readability with proper spacing and visual hierarchy, transformed plain text display into engaging multi-section layout with company vision, key features with relevant icons, and market positioning highlights using Fundry brand colors
- June 19, 2025. Implemented comprehensive text contrast improvements across campaign view page: enhanced page background with gradient styling (from-slate-50 via-blue-50/30 to-orange-50/20), upgraded all content cards with semi-transparent white backgrounds and backdrop blur effects, strengthened text colors from light gray to dark gray/black (text-gray-900, text-gray-800) with font-medium and font-semibold weights, added gradient backgrounds to all content sections with proper shadows, enhanced Business Strategy and Company Information sections with color-coded cards and improved visual hierarchy, ensured optimal readability throughout entire campaign presentation with stylish background contrasts
- June 19, 2025. Enhanced campaign intro section with professional dark background: implemented sophisticated dark slate gradient background (from-slate-800 via-slate-700 to-gray-800) with subtle blue overlay patterns and radial gradients for visual depth, converted all text to white/light colors for maximum contrast and readability, updated funding stats cards with semi-transparent white backdrop and proper z-index layering, enhanced progress bar styling to match dark theme, maintained Fundry orange branding throughout while ensuring excellent text visibility against cool professional background
- June 19, 2025. Improved About This Campaign section text readability: replaced gradient backgrounds with clean white and gray-50 backgrounds for maximum text contrast, updated all text colors to dark gray (text-gray-900, text-gray-800) for optimal readability, simplified Company Vision section styling while maintaining visual hierarchy, ensured all content sections use consistent dark text on light backgrounds for professional appearance and excellent accessibility
- June 19, 2025. Enhanced About This Campaign section styling: applied orange gradient background to entire section with orange text color for monochromatic branding, changed overall campaign page background to light chocolate color (bg-amber-100) for warm, professional appearance that complements orange branding elements

## User Preferences

Preferred communication style: Simple, everyday language.