<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fundry - Micro Investment Platform</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    <script>
        const { createElement: h, useState, useEffect } = React;
        const { createRoot } = ReactDOM;

        function App() {
            const [user, setUser] = useState(null);
            const [isLoading, setIsLoading] = useState(true);

            useEffect(() => {
                fetch('/api/auth/user')
                    .then(res => res.ok ? res.json() : null)
                    .then(data => {
                        setUser(data);
                        setIsLoading(false);
                    })
                    .catch(() => setIsLoading(false));
            }, []);

            if (isLoading) {
                return h('div', { className: 'flex items-center justify-center min-h-screen' },
                    h('div', { className: 'text-lg' }, 'Loading...')
                );
            }

            return h('div', { className: 'min-h-screen bg-gray-50' }, [
                // Navigation
                h('nav', { 
                    key: 'nav',
                    className: 'bg-white shadow-sm border-b sticky top-0 z-50'
                }, [
                    h('div', {
                        key: 'container',
                        className: 'max-w-7xl mx-auto px-4 sm:px-6 lg:px-8'
                    }, [
                        h('div', {
                            key: 'content',
                            className: 'flex justify-between items-center h-16'
                        }, [
                            h('div', {
                                key: 'logo-section',
                                className: 'flex items-center'
                            }, [
                                h('span', {
                                    key: 'logo',
                                    className: 'text-2xl font-bold text-orange-500'
                                }, 'Fundry')
                            ]),
                            h('div', {
                                key: 'nav-links',
                                className: 'hidden md:flex items-center space-x-8'
                            }, [
                                h('a', {
                                    key: 'browse',
                                    href: '/browse-campaigns',
                                    className: 'text-gray-600 hover:text-orange-500 font-medium'
                                }, 'Browse Campaigns'),
                                h('a', {
                                    key: 'how-it-works',
                                    href: '/how-it-works',
                                    className: 'text-gray-600 hover:text-orange-500 font-medium'
                                }, 'How It Works'),
                                h('a', {
                                    key: 'about',
                                    href: '/about',
                                    className: 'text-gray-600 hover:text-orange-500 font-medium'
                                }, 'About'),
                                h('a', {
                                    key: 'pricing',
                                    href: '/pricing',
                                    className: 'text-gray-600 hover:text-orange-500 font-medium'
                                }, 'Pricing'),
                                user ? 
                                    h('a', {
                                        key: 'dashboard',
                                        href: user.userType === 'founder' ? '/founder-dashboard' : '/investor-dashboard',
                                        className: 'bg-orange-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-orange-600'
                                    }, 'Dashboard') :
                                    h('button', {
                                        key: 'signin',
                                        className: 'bg-orange-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-orange-600',
                                        onClick: () => window.location.href = '/api/login'
                                    }, 'Sign In')
                            ])
                        ])
                    ])
                ]),

                // Hero Section
                h('section', {
                    key: 'hero',
                    className: 'relative bg-gradient-to-br from-orange-500 to-blue-800 text-white py-20 px-4'
                }, [
                    h('div', {
                        key: 'hero-container',
                        className: 'max-w-7xl mx-auto text-center'
                    }, [
                        h('h1', {
                            key: 'title',
                            className: 'text-4xl md:text-6xl font-bold mb-6'
                        }, 'Fund the Future'),
                        h('p', {
                            key: 'subtitle',
                            className: 'text-xl md:text-2xl mb-8 opacity-90 max-w-3xl mx-auto'
                        }, 'Connect startups with investors through secure micro-investments. Create campaigns, discover opportunities, and build the future together.'),
                        h('div', {
                            key: 'buttons',
                            className: 'flex flex-col sm:flex-row gap-4 justify-center'
                        }, [
                            h('button', {
                                key: 'get-started',
                                className: 'bg-white text-orange-500 px-8 py-4 rounded-lg font-semibold text-lg hover:bg-gray-100 transition-colors',
                                onClick: () => window.location.href = user ? (user.userType === 'founder' ? '/founder-dashboard' : '/investor-dashboard') : '/api/login'
                            }, user ? 'Go to Dashboard' : 'Get Started'),
                            h('button', {
                                key: 'browse',
                                className: 'border-2 border-white text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-white hover:text-orange-500 transition-colors',
                                onClick: () => window.location.href = '/browse-campaigns'
                            }, 'Browse Campaigns')
                        ])
                    ])
                ]),

                // Features Section
                h('section', {
                    key: 'features',
                    className: 'py-20 bg-white'
                }, [
                    h('div', {
                        key: 'features-container',
                        className: 'max-w-7xl mx-auto px-4'
                    }, [
                        h('div', {
                            key: 'features-header',
                            className: 'text-center mb-16'
                        }, [
                            h('h2', {
                                key: 'features-title',
                                className: 'text-3xl md:text-4xl font-bold text-gray-900 mb-4'
                            }, 'Complete Investment Platform'),
                            h('p', {
                                key: 'features-subtitle',
                                className: 'text-lg text-gray-600 max-w-2xl mx-auto'
                            }, 'All Fundry functionalities operational with comprehensive campaign management, investment processing, and user dashboards.')
                        ]),
                        h('div', {
                            key: 'features-grid',
                            className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8'
                        }, [
                            h('div', {
                                key: 'feature-1',
                                className: 'p-6 bg-gray-50 rounded-xl border border-gray-200 hover:shadow-lg transition-shadow'
                            }, [
                                h('div', {
                                    key: 'icon-1',
                                    className: 'w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4'
                                }, [
                                    h('span', {
                                        key: 'emoji-1',
                                        className: 'text-2xl'
                                    }, 'ðŸš€')
                                ]),
                                h('h3', {
                                    key: 'title-1',
                                    className: 'text-xl font-semibold text-gray-900 mb-2'
                                }, 'Campaign Creation'),
                                h('p', {
                                    key: 'desc-1',
                                    className: 'text-gray-600'
                                }, 'Create comprehensive funding campaigns with pitch decks, team profiles, and financial projections. Maximum $100K campaign limit enforced.')
                            ]),
                            h('div', {
                                key: 'feature-2',
                                className: 'p-6 bg-gray-50 rounded-xl border border-gray-200 hover:shadow-lg transition-shadow'
                            }, [
                                h('div', {
                                    key: 'icon-2',
                                    className: 'w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4'
                                }, [
                                    h('span', {
                                        key: 'emoji-2',
                                        className: 'text-2xl'
                                    }, 'ðŸ’°')
                                ]),
                                h('h3', {
                                    key: 'title-2',
                                    className: 'text-xl font-semibold text-gray-900 mb-2'
                                }, 'Investment Processing'),
                                h('p', {
                                    key: 'desc-2',
                                    className: 'text-gray-600'
                                }, 'Secure SAFE agreement investments with real-time processing, investor management, and automated legal documentation.')
                            ]),
                            h('div', {
                                key: 'feature-3',
                                className: 'p-6 bg-gray-50 rounded-xl border border-gray-200 hover:shadow-lg transition-shadow'
                            }, [
                                h('div', {
                                    key: 'icon-3',
                                    className: 'w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4'
                                }, [
                                    h('span', {
                                        key: 'emoji-3',
                                        className: 'text-2xl'
                                    }, 'ðŸ“Š')
                                ]),
                                h('h3', {
                                    key: 'title-3',
                                    className: 'text-xl font-semibold text-gray-900 mb-2'
                                }, 'Analytics Dashboard'),
                                h('p', {
                                    key: 'desc-3',
                                    className: 'text-gray-600'
                                }, 'Comprehensive founder and investor dashboards with detailed analytics, reporting, and performance tracking.')
                            ]),
                            h('div', {
                                key: 'feature-4',
                                className: 'p-6 bg-gray-50 rounded-xl border border-gray-200 hover:shadow-lg transition-shadow'
                            }, [
                                h('div', {
                                    key: 'icon-4',
                                    className: 'w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4'
                                }, [
                                    h('span', {
                                        key: 'emoji-4',
                                        className: 'text-2xl'
                                    }, 'ðŸ”’')
                                ]),
                                h('h3', {
                                    key: 'title-4',
                                    className: 'text-xl font-semibold text-gray-900 mb-2'
                                }, 'Security & Compliance'),
                                h('p', {
                                    key: 'desc-4',
                                    className: 'text-gray-600'
                                }, 'KYC verification, 2FA authentication, email verification, and comprehensive regulatory compliance framework.')
                            ]),
                            h('div', {
                                key: 'feature-5',
                                className: 'p-6 bg-gray-50 rounded-xl border border-gray-200 hover:shadow-lg transition-shadow'
                            }, [
                                h('div', {
                                    key: 'icon-5',
                                    className: 'w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mb-4'
                                }, [
                                    h('span', {
                                        key: 'emoji-5',
                                        className: 'text-2xl'
                                    }, 'ðŸ“§')
                                ]),
                                h('h3', {
                                    key: 'title-5',
                                    className: 'text-xl font-semibold text-gray-900 mb-2'
                                }, 'Communication System'),
                                h('p', {
                                    key: 'desc-5',
                                    className: 'text-gray-600'
                                }, 'Investor updates, messaging system, automated email notifications, and comprehensive campaign communication tools.')
                            ]),
                            h('div', {
                                key: 'feature-6',
                                className: 'p-6 bg-gray-50 rounded-xl border border-gray-200 hover:shadow-lg transition-shadow'
                            }, [
                                h('div', {
                                    key: 'icon-6',
                                    className: 'w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mb-4'
                                }, [
                                    h('span', {
                                        key: 'emoji-6',
                                        className: 'text-2xl'
                                    }, 'ðŸ’³')
                                ]),
                                h('h3', {
                                    key: 'title-6',
                                    className: 'text-xl font-semibold text-gray-900 mb-2'
                                }, 'Payment Processing'),
                                h('p', {
                                    key: 'desc-6',
                                    className: 'text-gray-600'
                                }, 'Integrated payment processing with withdrawal management, transaction tracking, and automated financial reporting.')
                            ])
                        ])
                    ])
                ]),

                // Status Section
                h('section', {
                    key: 'status',
                    className: 'py-16 bg-gray-900 text-white'
                }, [
                    h('div', {
                        key: 'status-container',
                        className: 'max-w-7xl mx-auto px-4 text-center'
                    }, [
                        h('h2', {
                            key: 'status-title',
                            className: 'text-3xl font-bold mb-12'
                        }, 'Platform Status'),
                        h('div', {
                            key: 'status-grid',
                            className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8'
                        }, [
                            h('div', {
                                key: 'status-1',
                                className: 'p-6 bg-green-800 rounded-lg'
                            }, [
                                h('div', {
                                    key: 'check-1',
                                    className: 'text-3xl text-green-400 mb-2'
                                }, 'âœ“'),
                                h('h3', {
                                    key: 'title-1',
                                    className: 'font-semibold mb-1'
                                }, 'Authentication'),
                                h('p', {
                                    key: 'desc-1',
                                    className: 'text-sm text-gray-300'
                                }, 'Email/password system operational')
                            ]),
                            h('div', {
                                key: 'status-2',
                                className: 'p-6 bg-green-800 rounded-lg'
                            }, [
                                h('div', {
                                    key: 'check-2',
                                    className: 'text-3xl text-green-400 mb-2'
                                }, 'âœ“'),
                                h('h3', {
                                    key: 'title-2',
                                    className: 'font-semibold mb-1'
                                }, 'Campaign System'),
                                h('p', {
                                    key: 'desc-2',
                                    className: 'text-sm text-gray-300'
                                }, '$100K limit enforced')
                            ]),
                            h('div', {
                                key: 'status-3',
                                className: 'p-6 bg-green-800 rounded-lg'
                            }, [
                                h('div', {
                                    key: 'check-3',
                                    className: 'text-3xl text-green-400 mb-2'
                                }, 'âœ“'),
                                h('h3', {
                                    key: 'title-3',
                                    className: 'font-semibold mb-1'
                                }, 'Investment Processing'),
                                h('p', {
                                    key: 'desc-3',
                                    className: 'text-sm text-gray-300'
                                }, 'SAFE agreements active')
                            ]),
                            h('div', {
                                key: 'status-4',
                                className: 'p-6 bg-blue-800 rounded-lg'
                            }, [
                                h('div', {
                                    key: 'amount',
                                    className: 'text-2xl font-bold text-blue-400 mb-2'
                                }, '$100K'),
                                h('h3', {
                                    key: 'title-4',
                                    className: 'font-semibold mb-1'
                                }, 'Maximum Campaign'),
                                h('p', {
                                    key: 'desc-4',
                                    className: 'text-sm text-gray-300'
                                }, 'Limit enforced across platform')
                            ])
                        ])
                    ])
                ]),

                // Footer
                h('footer', {
                    key: 'footer',
                    className: 'bg-gray-800 text-white py-12'
                }, [
                    h('div', {
                        key: 'footer-container',
                        className: 'max-w-7xl mx-auto px-4 text-center'
                    }, [
                        h('div', {
                            key: 'footer-logo',
                            className: 'text-2xl font-bold text-orange-500 mb-4'
                        }, 'Fundry'),
                        h('p', {
                            key: 'footer-desc',
                            className: 'text-gray-300 mb-6'
                        }, 'Micro Investment Platform - Connecting Startups with Investors'),
                        h('div', {
                            key: 'footer-links',
                            className: 'flex flex-wrap justify-center gap-6 text-sm'
                        }, [
                            h('a', {
                                key: 'privacy',
                                href: '/privacy-policy',
                                className: 'text-gray-400 hover:text-white'
                            }, 'Privacy Policy'),
                            h('a', {
                                key: 'terms',
                                href: '/terms-of-use',
                                className: 'text-gray-400 hover:text-white'
                            }, 'Terms of Use'),
                            h('a', {
                                key: 'contact',
                                href: '/contact',
                                className: 'text-gray-400 hover:text-white'
                            }, 'Contact'),
                            h('a', {
                                key: 'api-health',
                                href: '/api/health',
                                className: 'text-gray-400 hover:text-white'
                            }, 'API Status')
                        ])
                    ])
                ])
            ]);
        }

        const root = createRoot(document.getElementById('root'));
        root.render(h(App));
    </script>
</body>
</html>